#SPF : $SPF_ROOT/bin/spf --testSeqFile bscan_chain_length.spf --tapSpecFile /p/hdk/rtl/models/phdk73/ssnip_sles12/vip_spf_itpp_mtps/vip_spf_itpp_mtps-ssnip_sles12-latest/spf/bscan/collateral/mtps.bscan.tap.spfspec --itppFile bscan_chain_length.itpp

## BSCAN PROJECT BASED FORCE and REGISTER SETUP
label "force_signal";
comment rem  "force_signal pch_tb.pch.dsw_pwrok 1'b1" ;
comment rem  "force_signal pch_tb.pch.pch_pwrok 1'b1" ;
comment rem  "force_signal pch_tb.pch.rsmrstb 1'b1" ;
comment rem  "force_signal pch_tb.bscan_mux_en 1'b1" ;
label "write_NTIS_STAP_to_disable_dfx_pinmode";
cycle 1;
focus_tap NTIS_STAP;
set TAPNTISWITCH_TESTMODESELCFG_CPU_Ovrd = 1'b0;
flush;
label "write_TAPCR";
cycle 1;
focus_tap cl_cltapc;
set TAPCR->RST_AND_ISOLATION_EN = 'h1;
set TAPCR->BSCANMODEOVR = 'h1;
set TAPCR->CNVI_FUNC_BSCAN_EN = 'h1;
flush;
pass itpp "rem: poll_signal pch_tb.pch.parcnv.parcnv_pwell_wrapper.cnv1.cnv_hip_wrapper_inst_0.cnv_hip_inst.u_solar.top_lgc_inst_0.dft_inst_0.fsm_finish 1" ;
##add delay to allow dphy buffer ready
cycle 1;
pass itpp "expandata: TCK, 8; ";
@set tap_incremental_mode off;
focus_tap cl_cltapc;
label "testing_chain_GPCOM5_SEGMENT_SELECT";
tap_raw_shift : 
ir_tdi = PRELOAD,
dr_tdi = 'b00000000000000000000000000000000010,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
tap_raw_shift : 
ir_tdi = SAMPLE_PRELOAD,
dr_tdi = 'b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011110000111000110010,
dr_tdo = 'b11110000111000110010XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
label "testing_chain_GPCOM2_SEGMENT_SELECT";
tap_raw_shift : 
ir_tdi = PRELOAD,
dr_tdi = 'b00000000000000000000000000000001000,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
tap_raw_shift : 
ir_tdi = SAMPLE_PRELOAD,
dr_tdi = 'b0000000000000000000000000000000000000000000000000000000000000000000000011110000111000110010,
dr_tdo = 'b11110000111000110010XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
label "testing_chain_PMC_SEGMENT_SELECT";
tap_raw_shift : 
ir_tdi = PRELOAD,
dr_tdi = 'b00000000000000000000000000000100000,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
tap_raw_shift : 
ir_tdi = SAMPLE_PRELOAD,
dr_tdi = 'b00000000000000000000000000000000000000011110000111000110010,
dr_tdo = 'b11110000111000110010XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
label "testing_chain_SMB_SEGMENT_SELECT";
tap_raw_shift : 
ir_tdi = PRELOAD,
dr_tdi = 'b00000000000000000000000000010000000,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
tap_raw_shift : 
ir_tdi = SAMPLE_PRELOAD,
dr_tdi = 'b000000000000000000000000000000000000011110000111000110010,
dr_tdo = 'b11110000111000110010XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
label "testing_chain_GPCOM0_SEGMENT_SELECT";
tap_raw_shift : 
ir_tdi = PRELOAD,
dr_tdi = 'b00000000000000000000000001000000000,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
tap_raw_shift : 
ir_tdi = SAMPLE_PRELOAD,
dr_tdi = 'b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011110000111000110010,
dr_tdo = 'b11110000111000110010XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
label "testing_chain_CNVI_SEGMENT_SELECT";
tap_raw_shift : 
ir_tdi = PRELOAD,
dr_tdi = 'b00000000000000000000000100000000000,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
tap_raw_shift : 
ir_tdi = SAMPLE_PRELOAD,
dr_tdi = 'b0000000000000000000000000000000000000000000000011110000111000110010,
dr_tdo = 'b11110000111000110010XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
label "testing_chain_PCIE_SEGMENT_SELECT";
tap_raw_shift : 
ir_tdi = PRELOAD,
dr_tdi = 'b00000000000000000000011000000000000,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
tap_raw_shift : 
ir_tdi = SAMPLE_PRELOAD,
dr_tdi = 'b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011110000111000110010,
dr_tdo = 'b11110000111000110010XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
label "testing_chain_GPCOM4_SEGMENT_SELECT";
tap_raw_shift : 
ir_tdi = PRELOAD,
dr_tdi = 'b00000000000000000010000000000000000,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
tap_raw_shift : 
ir_tdi = SAMPLE_PRELOAD,
dr_tdi = 'b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011110000111000110010,
dr_tdo = 'b11110000111000110010XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
label "testing_chain_CSME_SEGMENT_SELECT";
tap_raw_shift : 
ir_tdi = PRELOAD,
dr_tdi = 'b00000000000000001000000000000000000,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
tap_raw_shift : 
ir_tdi = SAMPLE_PRELOAD,
dr_tdi = 'b0000000000000000000000000000000000000000011110000111000110010,
dr_tdo = 'b11110000111000110010XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
label "testing_chain_GPCOM3_SEGMENT_SELECT";
tap_raw_shift : 
ir_tdi = PRELOAD,
dr_tdi = 'b00000000000000100000000000000000000,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
tap_raw_shift : 
ir_tdi = SAMPLE_PRELOAD,
dr_tdi = 'b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011110000111000110010,
dr_tdo = 'b11110000111000110010XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
label "testing_chain_GPCOM1_SEGMENT_SELECT";
tap_raw_shift : 
ir_tdi = PRELOAD,
dr_tdi = 'b00000000000010000000000000000000000,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
tap_raw_shift : 
ir_tdi = SAMPLE_PRELOAD,
dr_tdi = 'b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011110000111000110010,
dr_tdo = 'b11110000111000110010XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
label "testing_chain_PCIE_DMI_SEGMENT_SELECT";
tap_raw_shift : 
ir_tdi = PRELOAD,
dr_tdi = 'b00000000001100000000000000000000000,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
tap_raw_shift : 
ir_tdi = SAMPLE_PRELOAD,
dr_tdi = 'b0000000000000000000000000000000000000000000000000000000000000000000000011110000111000110010,
dr_tdo = 'b11110000111000110010XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
label "testing_chain_USB3_SEGMENT_SELECT";
tap_raw_shift : 
ir_tdi = PRELOAD,
dr_tdi = 'b00000001100000000000000000000000000,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
tap_raw_shift : 
ir_tdi = SAMPLE_PRELOAD,
dr_tdi = 'b0000000000000000000000000000000000000000000000000000000000000000011110000111000110010,
dr_tdo = 'b11110000111000110010XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
label "testing_chain_USB2_SEGMENT_SELECT";
tap_raw_shift : 
ir_tdi = PRELOAD,
dr_tdi = 'b00001100000000000000000000000000000,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
tap_raw_shift : 
ir_tdi = SAMPLE_PRELOAD,
dr_tdi = 'b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011110000111000110010,
dr_tdo = 'b11110000111000110010XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
label "testing_chain_ISCLK_SEGMENT_SELECT";
tap_raw_shift : 
ir_tdi = PRELOAD,
dr_tdi = 'b01100000000000000000000000000000000,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
tap_raw_shift : 
ir_tdi = SAMPLE_PRELOAD,
dr_tdi = 'b0000000000000000000000000000000000000000000000000000000000000000000000000000011110000111000110010,
dr_tdo = 'b11110000111000110010XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
label "testing_chain_bypass_all_segment";
tap_raw_shift : 
ir_tdi = PRELOAD,
dr_tdi = 'b00000000000000000000000000000000000,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
tap_raw_shift : 
ir_tdi = SAMPLE_PRELOAD,
dr_tdi = 'b0000000000000000000000000000000000011110000111000110010,
dr_tdo = 'b11110000111000110010XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
label "testing_full_chain";
tap_raw_shift : 
ir_tdi = PRELOAD,
dr_tdi = 'b11111111111111111111111111111111111,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
focus_tap cl_cltapc;
tap_raw_shift : 
ir_tdi = SAMPLE_PRELOAD,
dr_tdi = 'b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011110000111000110010,
dr_tdo = 'b11110000111000110010XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;
