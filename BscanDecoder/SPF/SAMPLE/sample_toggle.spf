#pass itpp "expandata: xxtck, 4;";
#@set tap_incremental_mode on;
#pass itpp "label: Start_Boundary_Scan_test;";
#pass itpp "label: Test_mode_ALL0;";
#pass itpp "label: Test_Feature_CON;";

#Kahliang: ww23p1 Temporary fix for failing gpp_sc_22 pin. To review with Eng Hong. This programming is used in MP
focus_tap GPIOCOM0_STAP;
set MISCC2_CMNPAD_DRV_OVRDEN = 'h0;
flush;

pass itpp "label: EXPANDATA_RATIO_4;";
pass itpp "expandata: xxjtag_tck, 4; ";
cycle 10;

focus_tap CLTAP;
label "Reset_and_Bscan_mode_enable";
set TAPCR->RST_AND_ISOLATION_EN = 'h1;
set TAPCR->BSCANMODEOVR = 'h1;
flush;

cycle 50;
#set BRANCH_SELECT->GROUP1 = 'h1;
#set BRANCH_SELECT->GROUP3 = 'h1;
#set BRANCH_SELECT->GROUP2 = 'h0;

focus_tap CLTAP;
label "Bypass_IOE_and_CPU_chain";
set BSCANBYPASS->MTL_S_DFX_PARGPCOM3_CPU_TDO_REPEATER = 'h1;
set BSCANBYPASS->MTL_S_DFX_PARGPCOM3_IOE_TDO_REPEATER = 'h1;
flush;

cycle 50;

focus_tap CLTAP;
label "preload_full_chain";
tap_raw_shift : 
ir_tdi = PRELOAD,
dr_tdi = 'b011011011010101011101101000,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;

cycle 50;

label "full_chain_samplepre_all1";
tap_raw_shift : 
ir_tdi = SAMPLEPRE,
dr_tdi = 'b011100100100100100100100100011100100100100100100100100011100100100100100100100100011010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010100101010101010010111110111110111110111110011001101111101111101111101111101111101111101111101111101111101111101111101111101111101111101111101111100110011011111011111011111011111011111011111011111011111001100110111110111110111110111110111110111111011111011111100110011011111011111101111101111111101111101111110011001101111101111110111110111111011111011111101111101111101111101111100110011011111011111011111011110011001001001001101010101010101010101010101010101010101010101010101010101010101010101010101010101010101001100000011001100110011000110101010101010101010000,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ;
flush;

cycle 50;

label "assert_extest_opcode";
execute EXTEST_TOGGLE;
flush;

label "delay_before_checkpad";
cycle 200000;

pass itpp "vector: xxpinA(L) xxpinB(H) xxpinC(L) ,1;";

pass itpp "vector: xxpinA(H) xxpinB(L) xxpinC(H) ,1;";

pass itpp "vector: xxpinA(H) xxpinB(L) xxpinC(L) ,1;";

label "samplepre_all0";
tap_raw_shift : 
ir_tdi = SAMPLEPRE,
dr_tdi = 'b011000000000000000000000000011000000000000000000000000011000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101010101010010000001000010000001000010101010100000010000100000010000100000010000100000010000100000010000100000010000100000010000100000010000101010101000000100001000000100001000000100001000000100001010101010000001000010000001000010000001000001000000100000101010101000000100000100000010000010100000010000010101010100000010000010000001000001000000100000100000010000100000010000101010101000000100001000000100000010100100100101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001100000001000100010001000100000000000000000000000,
dr_tdo = 'bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
flush;

cycle 50;

label "test_completed";
cycle 10;